<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <!-- Define a macro with a prefix param for the robot description -->
  <xacro:macro name="robot_description" params="prefix camera_name=zedm camera_model=zedm">

    <material name="yellow">
      <color rgba="1 1 0 1"/>
    </material>

    <material name="orange">
      <color rgba="1 0.3 0.1 1"/>
    </material>

    <material name="blue">
      <color rgba="0.2 0.2 1 1"/>
    </material>

    <material name="red">
      <color rgba="1 0 0 1"/>
    </material>

    <link name="${prefix}base_link">
      <inertial>
        <origin
          xyz="0.00180125809402712 0.000803676445247231 0.01518679730351"
          rpy="0 0 0" />
        <mass
          value="0.657677203206575" />
        <inertia
          ixx="0.00086538199329254"
          ixy="-2.9353575955111E-07"
          ixz="2.01709713615107E-05"
          iyy="0.00372020827025877"
          iyz="-4.62454840349382E-06"
          izz="0.00438426362438441" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
            <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_base_link.stl"/>
        </geometry>
        <material name="blue"/>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_base_link.stl" />
            <!-- <box size="0.28 0.13 0.08"/> -->
        </geometry>
      </collision>
    </link>

    <link name="${prefix}front_left_wheel_link">
      <inertial>
        <origin
          xyz="-2.6737853597858E-10 1.57494023378391E-09 0.00586031499671241"
          rpy="0 0 0" />
        <mass
          value="0.0636859538546401" />
        <inertia
          ixx="0.000148107353320268"
          ixy="-1.35785185033322E-11"
          ixz="4.45745626426646E-12"
          iyy="0.000148107350264006"
          iyz="1.98277930663145E-12"
          izz="0.000285045799220755" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_front_left_wheel.stl" />
        </geometry>
        <material name="orange"/>

      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_front_left_wheel.stl" />
          <!-- <sphere radius="0.08"/> -->
        </geometry>
      </collision>
    </link>
    <joint name="${prefix}front_left_wheel_joint" type="continuous">
      <origin xyz="0.12851 0.11738 -0.022625" rpy="-1.5708 0 0" />
      <parent link="${prefix}base_link" />
      <child link="${prefix}front_left_wheel_link" />
      <axis xyz="0 0 1" />
    </joint>

    <link name="${prefix}front_right_wheel_link">
      <inertial>
        <origin
          xyz="-1.3376E-09 -8.8541E-10 0.0058603"
          rpy="0 0 0" />
        <mass
          value="0.063686" />
        <inertia
          ixx="0.00014811"
          ixy="-5.3705E-12"
          ixz="-3.5018E-12"
          iyy="0.00014811"
          iyz="3.3368E-12"
          izz="0.00028505" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_front_right_wheel.stl" />
        </geometry>
        <material name="orange"/>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_front_right_wheel.stl" />
          <!-- <sphere radius="0.08"/> -->
        </geometry>
      </collision>
    </link>
    <joint name="${prefix}front_right_wheel_joint" type="continuous">
      <origin xyz="0.12051 -0.11682 -0.022625" rpy="1.5708 0 0" />
      <parent link="${prefix}base_link" />
      <child link="${prefix}front_right_wheel_link" />
      <axis xyz="0 0 -1" />
    </joint>

    <link name="${prefix}back_left_wheel_link">
      <inertial>
        <origin
          xyz="-9.53E-10 -1.113E-09 0.0058603"
          rpy="0 0 0" />
        <mass
          value="0.063686" />
        <inertia
          ixx="0.00014811"
          ixy="-4.9708E-12"
          ixz="-4.0149E-12"
          iyy="0.00014811"
          iyz="1.9832E-12"
          izz="0.00028505" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_back_left_wheel.stl" />
        </geometry>
        <material name="orange"/>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_back_left_wheel.stl" />
          <!-- <sphere radius="0.08"/> -->
        </geometry>
      </collision>
    </link>
    <joint name="${prefix}back_left_wheel_joint" type="continuous">
      <origin xyz="-0.11949 0.11738 -0.022625" rpy="-1.5708 0 0" />
      <parent link="${prefix}base_link" />
      <child link="${prefix}back_left_wheel_link" />
      <axis xyz="0 0 1" />
    </joint>

    <link name="${prefix}back_right_wheel_link">
      <inertial>
        <origin
          xyz="-3.4938159310105E-10 -6.88384349523119E-11 0.00586031504576194"
          rpy="0 0 0" />
        <mass
          value="0.063685952885413" />
        <inertia
          ixx="0.000148107341904413"
          ixy="-9.56591142331185E-12"
          ixz="-4.24605263320539E-13"
          iyy="0.000148107361436709"
          iyz="9.18578002146026E-13"
          izz="0.000285045798997703" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_back_right_wheel.stl" />
        </geometry>
        <material name="orange"/>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_back_right_wheel.stl" />
          <!-- <sphere radius="0.08"/> -->
        </geometry>
      </collision>
    </link>
    <joint name="${prefix}back_right_wheel_joint" type="continuous">
      <origin xyz="-0.12749 -0.11682 -0.022625" rpy="1.5708 0 0" />
      <parent link="${prefix}base_link" />
      <child link="${prefix}back_right_wheel_link" />
      <axis xyz="0 0 -1" />
    </joint>

    <link name="${prefix}imu_link">
      <inertial>
        <origin
          xyz="-0.000894812057582933 9.60259274576658E-06 -0.00456943294796108"
          rpy="0 0 0" />
        <mass
          value="0.0065760792742103" />
        <inertia
          ixx="3.78511408547619E-07"
          ixy="4.67820105640642E-11"
          ixz="1.00912927862616E-08"
          iyy="3.79926110271894E-07"
          iyz="-5.01543493566598E-12"
          izz="7.19032056380139E-07" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_imu.stl" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_imu.stl" />
          <!-- <box size = "0.03 0.025 0.01"/> -->
        </geometry>
      </collision>
    </link>
    <joint name="${prefix}imu_joint" type="fixed">
      <origin xyz="0.0022791 0.00028171 0.01489" rpy="0 0 0" />
      <parent link="${prefix}base_link" />
      <child link="${prefix}imu_link" />
      <axis xyz="0 0 0" />
    </joint>

    <link name="${prefix}camera_mount_link">
      <inertial>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <mass
          value="0" />
        <inertia
          ixx="0"
          ixy="0"
          ixz="0"
          iyy="0"
          iyz="0"
          izz="0" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_camera_mount.stl" />
        </geometry>
        <material name="red"/>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/new_camera_mount.stl" />
          <!-- <box size="0.05 0.115 0.05" /> -->
        </geometry>
      </collision>
    </link>
    <joint name="${prefix}camera_mount_joint" type="fixed">
      <origin xyz="0.14426 0.00028171 0.094535" rpy="0 0 0" />
      <parent link="${prefix}base_link" />
      <child link="${prefix}camera_mount_link" />
      <axis xyz="0 0 0" />
    </joint>

    <link name="${prefix}${camera_name}_center_link">
      <inertial>
        <origin xyz="-0.00435147007919079 -0.00309486253694627 0.00251127017920943" rpy="0 0 0" />
        <mass value="0.0560548842495178" />
        <inertia
          ixx="7.29762807495571E-05"
          ixy="5.57132554461124E-07"
          ixz="-2.34695280152666E-07"
          iyy="5.49793925654236E-06"
          iyz="-3.21584411064254E-07"
          izz="7.2705806093778E-05" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/${camera_model}_center_link.STL" />
        </geometry>
        <material
          name="yellow"/>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="file://$(find arcs_cohort_description)/meshes/${camera_model}_center_link.STL" />
          <!-- <box size="0.015 0.122 0.025"/> -->
        </geometry>
      </collision>
    </link>
    <joint name="${prefix}${camera_name}_center_joint" type="fixed">
      <origin xyz="0.050151 0.0018215 -0.015053" rpy="0 0 0" />
      <parent link="${prefix}camera_mount_link" />
      <child link="${prefix}${camera_name}_center_link" />
      <axis xyz="0 0 0" />
    </joint>

  </xacro:macro>

</robot>
